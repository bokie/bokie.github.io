!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=7)}([function(e,t){e.exports=createjs},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.store={loadQueue:null,shouldTabBarVisible:!1,score:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollContainer=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=(i=r)&&i.__esModule?i:{default:i},s=n(1);t.ScrollContainer=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._container=new a.default.Container,n._container.setBounds(0,0,0,0),n._container.y=e,n.addChild(n._container),n._initEvent(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Container),o(t,[{key:"scroll",value:function(){}},{key:"_initEvent",value:function(){var e=this,t=this._container,n={startStageY:null,maxScrollY:null,minScrollY:null,currPos:null,startPos:null,endPos:null,deltaY:null,direction:null};t.on("mousedown",function(e){n.startPos=this.y,n.startStageY=e.stageY}),t.on("pressmove",function(t){n.deltaY=t.stageY-n.startStageY;var i=n.startPos+n.deltaY;e.scrollY=i}),t.on("pressup",function(e){n.direction;n.deltaY})}},{key:"addContent",value:function(){var e;(e=this._container).addChild.apply(e,arguments)}},{key:"scrollTo",value:function(e,t){}},{key:"scrollToTop",value:function(e){a.default.Tween.get(this._container).to({y:0},e,a.default.Ease.cubicOut)}},{key:"scrollToBottom",value:function(){}},{key:"setBounds",value:function(e,n,i,o){this.dispatchEvent("scevent"),function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setBounds",this).call(this,e,n,i,o),console.log("set bounds: ",e,n,i,o),this.contentSize={width:Math.max(i,this.contentSize.width),height:Math.max(o,this.contentSize.height)},this._container.mask=new a.default.Shape,this._container.mask.graphics.beginFill("#efefef").rect(e,n,i,o)}},{key:"contentSize",set:function(e){this._container.setBounds(0,0,e.width,e.height)},get:function(){return{width:this._container.getBounds().width,height:this._container.getBounds().height}}},{key:"scrollY",get:function(){return this._container.y},set:function(e){var t=this.contentSize.height-this.getBounds().height,n=Math.min(0,Math.max(e,-t));this._container.y=n,s.store.shouldTabBarVisible=n<=-326}}]),t}()},function(e,t,n){e.exports=n.p+"static/qb_feed_sport.b7408072.jpg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.bonusData=[{name:"recommend",imgId:"recommendFeed",data:[{position:{x:350,y:406},size:{width:240,height:210},audioId:""},{position:{x:472,y:0},size:{width:160,height:160},audioId:""},{position:{x:550,y:1210},size:{width:200,height:360},audioId:""}]},{name:"video",imgId:"videoFeed",data:[{position:{x:110,y:154},size:{width:180,height:150},audioId:""},{position:{x:0,y:850},size:{width:250,height:210},audioId:""},{position:{x:380,y:1340},size:{width:370,height:260},audioId:""}]},{name:"sport",imgId:"sportFeed",data:[{position:{x:600,y:0},size:{width:156,height:160},audioId:""},{position:{x:0,y:896},size:{width:380,height:280},audioId:""},{position:{x:0,y:1390},size:{width:750,height:390},audioId:""}]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);Object.defineProperty(t,"ScrollContainer",{enumerable:!0,get:function(){return i.ScrollContainer}});var o=n(42);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TipMask=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.createTipMask=function(e,t){var n=new a.default.Sprite(s.store.loadQueue.getResult("sprite2"),e),o=(t.canvas.height-334)/2;return n.x=84,n.y=o,function(){function e(){c(this,e),this.target=new a.default.Container,this._init(t)}return i(e,[{key:"_init",value:function(e){var t=this,i=new a.default.Shape,o=e.canvas,r=o.width,s=o.height;i.graphics.beginFill("rgba(0, 0, 0, 0.8)").drawRect(0,0,r,s),i.setBounds(0,0,r,s),n.on("animationend",function(){n.stop(),a.default.Tween.get(t.target).to({alpha:0},260,a.default.Ease.cubicOut).call(function(){t.target.parent.removeChild(t.target)})}),this.target.addChild(i,n)}},{key:"appendChild",value:function(){}}]),e}()};var o,r=n(0),a=(o=r)&&o.__esModule?o:{default:o},s=n(1);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TipMask=function(){function e(t,n){c(this,e),this.target=new a.default.Container,this._init(t,n),this.anim=n}return i(e,[{key:"_init",value:function(e,t){var n=this,i=new a.default.Shape,o=e.canvas,r=o.width,c=o.height;i.graphics.beginFill("rgba(0, 0, 0, 0.8)").drawRect(0,0,r,c),i.setBounds(0,0,r,c);var u=new a.default.Sprite(s.store.loadQueue.getResult("sprite2"),t),l=(e.canvas.height-334)/2;u.x=84,u.y=l,u.on("animationend",function(){u.stop(),a.default.Tween.get(n.target).to({alpha:0},260,a.default.Ease.cubicOut).call(function(){n.target.dispatchEvent("close"),n.target.parent.removeChild(n.target)})}),this.target.addChild(i,u)}},{key:"appendChild",value:function(){}}]),e}()},function(e,t,n){"use strict";n(8);var i,o=n(11);(0,((i=o)&&i.__esModule?i:{default:i}).default)()},function(e,t){},function(e,t,n){e.exports=n.p+"static/pouch_empty.89ab50dd.png"},function(e,t,n){e.exports=n.p+"static/pouch_full.9cf823e4.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new a.default,t=new i.default.LoadQueue(!0);r.store.loadQueue=t,t.installPlugin(i.default.Sound),t.on("progress",function(e){var t=Math.round(100*e.loaded);$(".j_progressThumb").css("width",t+"%")}),t.on("complete",function(){$(".j_btnStart").show(),$(".j_loadingTxt").hide(),$(".m-loading").on("click",function(){$(".m-loading").hide(),i.default.Sound.play("bgAudio",{loop:-1}),e.start()}),e.init(),e.on("finish",function(){console.log("finish"),$(".m-end").show()})}),t.loadManifest(o.manifest)};var i=s(n(0)),o=n(12),r=n(1),a=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.manifest=[{id:"browserHeaderBar",src:n(13)},{id:"browserFooterBar",src:n(14)},{id:"feed",src:n(3)},{id:"iconBar",src:n(15)},{id:"tabBar",src:n(16)},{id:"recommendTab",src:n(17)},{id:"videoTab",src:n(18)},{id:"sportTab",src:n(19)},{id:"recommendFeed",src:n(20)},{id:"videoFeed",src:n(21)},{id:"sportFeed",src:n(3)},{id:"timerBg",src:n(22)},{id:"maskTipEntry",src:n(23)},{id:"maskTipStart",src:n(24)},{id:"maskTipEnd",src:n(25)},{id:"maskTipTime",src:n(26)},{id:"maskTipFinish",src:n(27)},{id:"pouchEmpty",src:n(9)},{id:"pouchFull",src:n(10)},{id:"sprite1",src:n(28)},{id:"sprite2",type:"spritesheet",src:n(29)},{id:"audio",src:n(30)},{id:"bgAudio",src:n(31)},{id:"videoBingo_0",src:n(32)},{id:"videoBingo_1",src:n(33)},{id:"videoBingo_2",src:n(34)},{id:"recommendBingo_0",src:n(35)},{id:"recommendBingo_1",src:n(36)},{id:"recommendBingo_2",src:n(37)},{id:"sportBingo_0",src:n(38)},{id:"sportBingo_1",src:n(39)},{id:"sportBingo_2",src:n(40)}],t.resources=[{type:"manifest",data:[]},{type:"",data:[]}]},function(e,t,n){e.exports=n.p+"static/qb_header.7081e92d.jpg"},function(e,t,n){e.exports=n.p+"static/qb_footer.a0f4d1bf.jpg"},function(e,t,n){e.exports=n.p+"static/qb_iconbar.0769ec58.jpg"},function(e,t,n){e.exports=n.p+"static/qb_tabbar.1b37e3a9.jpg"},function(e,t,n){e.exports=n.p+"static/qb_tab_recommend.d9b68e7b.png"},function(e,t,n){e.exports=n.p+"static/qb_tab_video.75041691.png"},function(e,t,n){e.exports=n.p+"static/qb_tab_sport.c8d6c17a.png"},function(e,t,n){e.exports=n.p+"static/qb_feed_recommend.1d766582.jpg"},function(e,t,n){e.exports=n.p+"static/qb_feed_video.436a9ecc.jpg"},function(e,t,n){e.exports=n.p+"static/timer_bg.284420c3.png"},function(e,t,n){e.exports=n.p+"static/mask_tip_entry.5bacd4bb.png"},function(e,t,n){e.exports=n.p+"static/mask_tip_start.cf4bec9c.png"},function(e,t,n){e.exports=n.p+"static/mask_tip_end.d8897eac.png"},function(e,t,n){e.exports=n.p+"static/mask_tip_time.d2cb3b94.png"},function(e,t,n){e.exports=n.p+"static/mask_tip_finish.2af4f4b7.png"},function(e,t,n){e.exports=n.p+"static/sprite_1.b4114990.png"},function(e,t,n){e.exports=n.p+"static/spritetest.22990449.json"},function(e,t,n){e.exports=n.p+"static/audio.66b44908.mp3"},function(e,t,n){e.exports=n.p+"static/bg.a90f189b.mp3"},function(e,t,n){e.exports=n.p+"static/video_bingo_0.fe82c396.mp3"},function(e,t,n){e.exports=n.p+"static/video_bingo_1.38d7165c.mp3"},function(e,t,n){e.exports=n.p+"static/video_bingo_2.9a4225a2.mp3"},function(e,t,n){e.exports=n.p+"static/recommend_bingo_0.7bd71caf.mp3"},function(e,t,n){e.exports=n.p+"static/recommend_bingo_1.c432352c.mp3"},function(e,t,n){e.exports=n.p+"static/recommend_bingo_2.fd77f5c5.mp3"},function(e,t,n){e.exports=n.p+"static/sport_bingo_0.46e83437.mp3"},function(e,t,n){e.exports=n.p+"static/sport_bingo_1.4b599c9e.mp3"},function(e,t,n){e.exports=n.p+"static/sport_bingo_2.cb50ddd9.mp3"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=(i=r)&&i.__esModule?i:{default:i},s=(n(4),n(1)),c=(n(2),n(5)),u=n(43);var l=document.getElementById("j_gameCanvas"),d=new a.default.Stage(l);a.default.Touch.enable(d),a.default.Ticker.timingMode=a.default.Ticker.RAF;var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.stage=d,e.header=null,e.timer=null,e.footer=null,e.scenes=null,e.currScene=null,e.preScene=null,e.loadQueue=null,e.mask=null,e.scene=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Event),o(t,[{key:"init",value:function(){var e=this;this.loadQueue=s.store.loadQueue,this.header=new u.Header,this.scene=new u.Scene(this.stage),this.footer=(0,u.footer)(),this.timer=new u.Timer,this.timer.target.x=526,this._computeLayout(),window.addEventListener("resize",this._computeLayout.bind(this)),console.log("header tabbar: ",this.header.tabBar),this.stage.addChild(this.header.target,this.footer,this.timer.target),a.default.Ticker.addEventListener("tick",this._tickHandler.bind(this)),this.stage.on("gamecomplete",function(){e.emit("finish")}),this.stage.on("scenechange",function(){console.log("scene change: ",e.scene.currScene.name),e.header.changeTab(e.scene.currScene.name),s.store.sceneLayoutShouldUpdate=!0})}},{key:"start",value:function(){console.log("game start");var e=new u.TipMask(this.stage,"tipStart");this.stage.addChild(e.target),e.target.on("close",function(){$(".m-pouch").show()})}},{key:"_computeLayout",value:function(){console.log("game stage layout will update");var e=750/window.innerWidth;l.height=window.innerHeight*e+1;var t=this.header.getBounds().height,n=this.stage.canvas.height,i=this.footer.getBounds().height,o=n-t-i;this.footer.y=n-i,this.scene.setAllBounds(0,0,750,o),this.scene.setAllPosition(t),console.log("scene after bounds set: ",this.scene)}},{key:"_updateSceneLayout",value:function(){console.log("scene layout will update");var e=this.header.getBounds().height,t=this.stage.canvas.height-e-this.footer.getBounds().height;this.scene.setAllBounds(0,0,750,t),this.scene.setAllPosition(e)}},{key:"_tickHandler",value:function(){this.stage.update(),s.store.sceneLayoutShouldUpdate&&(this._updateSceneLayout(),s.store.sceneLayoutShouldUpdate=!1)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=Symbol("event"),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[o]={}}return i(e,[{key:"on",value:function(e,t){var n=this[o][e];console.log("event on: ",e,t),n||(n=[],this[o][e]=n),"function"==typeof t&&n.push(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this[o][e];console.log("event emit: ",e,r),r&&r.length>0&&r.forEach(function(e){"function"==typeof e&&e.apply(void 0,n)})}},{key:"off",value:function(e,t){var n=this[o][e];if(n&&n.length){if(!t)return console.log("list: ",n),console.log("off all: ",e),n=[],void console.log("list: ",n);var i=n.indexOf(t);i>0&&n.splice(i,1)}}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(44);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return i.Header}});var o=n(45);Object.defineProperty(t,"Scene",{enumerable:!0,get:function(){return o.Scene}});var r=n(46);Object.defineProperty(t,"footer",{enumerable:!0,get:function(){return r.footer}});var a=n(47);Object.defineProperty(t,"Timer",{enumerable:!0,get:function(){return a.Timer}});var s=n(6);Object.defineProperty(t,"TipMask",{enumerable:!0,get:function(){return s.TipMask}}),Object.defineProperty(t,"createTipMask",{enumerable:!0,get:function(){return s.createTipMask}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=(i=r)&&i.__esModule?i:{default:i},s=n(1);t.Header=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=new a.default.Container,this.tabs={},this._init()}return o(e,[{key:"_init",value:function(){var e=s.store.loadQueue,t=new a.default.Bitmap(e.getResult("browserHeaderBar")),n=new a.default.Bitmap(e.getResult("recommendTab")),i=new a.default.Bitmap(e.getResult("videoTab")),o=new a.default.Bitmap(e.getResult("sportTab"));o.y=t.getBounds().height,n.y=t.getBounds().height,n.visible=!1,i.y=t.getBounds().height,n.y=t.getBounds().height,console.log("headerbar: ",t),this.tabs={video:i,recommend:n,sport:o},n.on("tick",function(){!0===s.store.shouldTabBarVisible?n.visible=!0:n.visible=!1}),this.target.addChild(t,n),this.currTab=n,console.log("header bounds: ",this.target.getBounds())}},{key:"changeTab",value:function(e){this.currTab&&this.target.removeChild(this.currTab);var t=this.tabs[e];console.log("tab will change: ",t),console.log("tab will change: ",this.tabs),this.target.addChild(t),this.currTab=t,console.log("curr tab visible: ",this.currTab.visible)}},{key:"getBounds",value:function(){return this.target.getBounds()}},{key:"resetBounds",value:function(){var e=this.target.children.filter(function(e){return e.visible&&e.image}).reduce(function(e,t){return e+t.image.height},0);this._container.setBounds(0,0,750,e)}},{key:"tabVisible",set:function(e){this.tabBar.visible=e,this.setBounds()}},{key:"tabBar",get:function(){return this.target.getChildAt(1)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=(i=r)&&i.__esModule?i:{default:i},s=n(1),c=n(2),u=n(6),l=n(4);t.Scene=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stage=t,this.scenes=[],this.currScene=null,this.preScene=null,this._init()}return o(e,[{key:"_init",value:function(){var e=this;console.log("scene componet intialized"),l.bonusData.forEach(function(t){e.scenes.push(function(e,t){var n=new c.ScrollContainer;n.name=e.name;var i=new a.default.Bitmap(s.store.loadQueue.getResult(e.imgId));n.addContent(i),t&&n.setBounds(t);var o=i.image,r=o.width,u=o.height;n.contentSize={width:r,height:u};var l=e.data.length,d=0;return e.data.forEach(function(t){var i=new a.default.Shape,o=t.position,r=o.x,c=o.y,u=t.size,f=u.width,h=u.height;i.x=r,i.y=c,i.graphics.beginFill("rgba(255, 255, 255, 0.01)").drawRect(0,0,f,h),i.addEventListener("click",function t(){var o=d;a.default.Sound.play(e.name+"Bingo_"+o),$(".pouch").get(o).classList.add("status__full"),d+=1,s.store.score+=1,console.log("bonus point found",e.name),i.removeEventListener("click",t),d>=l&&n.dispatchEvent("bingo")}),n.addContent(i)}),n}(t))}),this.scenes.forEach(function(e){e.y=500}),this.currScene=this.scenes.shift(),this.stage.addChild(this.currScene),this.currScene.on("bingo",function(){console.log("bingo",e.currScene.name),$(".m-pouch").hide(),$(".pouch").removeClass("status__full");var t=new u.TipMask(e.stage,"tipEnd");t.target.on("close",function(){e.next()}),e.stage.addChild(t.target)})}},{key:"start",value:function(){}},{key:"next",value:function(){var e=this;this.currScene&&(this.preScene=this.currScene),this.currScene=this.scenes.shift();var t=new u.TipMask(this.stage,"tipBegin");if(!this.currScene){console.log("collect completed"),$(".m-pouch").hide(),$(".pouch").removeClass("status__full");var n=new u.TipMask(this.stage,"tipFinish");return n.target.on("close",function(){console.log("all over"),e.stage.dispatchEvent("gamecomplete")}),this.stage.addChild(n.target),!1}return this.scenes.length?this.currScene.on("bingo",function(){console.log("hello bingo"),$(".m-pouch").hide(),$(".pouch").removeClass("status__full");var t=new u.TipMask(e.stage,"tipEnd");t.target.on("close",function(){e.next()}),e.stage.addChild(t.target)}):($(".m-pouch").hide(),$(".pouch").removeClass("status__full"),this.currScene.on("bingo",function(){e.next()})),this.stage.addChildAt(this.currScene,1),this.preScene&&(this.currScene.x=750,a.default.Tween.get(this.preScene).to({x:-750},560,a.default.Ease.cubicInOut).call(function(){console.log("animation end"),e.stage.removeChild(e.preScene),e.stage.addChild(t.target),t.target.on("close",function(){$(".m-pouch").show()}),e.stage.dispatchEvent("scenechange")}),a.default.Tween.get(this.currScene).to({x:0},560,a.default.Ease.cubicInOut)),console.log("this: ",this),!0}},{key:"final",value:function(){}},{key:"setBounds",value:function(){}},{key:"setAllBounds",value:function(){for(var e,t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return this.scenes.forEach(function(e){e.setBounds.apply(e,i)}),(e=this.currScene).setBounds.apply(e,i),(t=console).log.apply(t,["bounds setter: "].concat(i)),!0}},{key:"setPosition",value:function(){}},{key:"setAllPosition",value:function(e){this.scenes.forEach(function(t){t.y=e}),this.currScene.y=e}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.footer=function(){var e=a.store.loadQueue;return new r.default.Bitmap(e.getResult("browserFooterBar"))};var i,o=n(0),r=(i=o)&&i.__esModule?i:{default:i},a=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=(i=r)&&i.__esModule?i:{default:i},s=n(1),c=n(5);t.Timer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.target=new a.default.Container,console.log("store: ",s.store.loadQueue),e.timerBg=new a.default.Bitmap(s.store.loadQueue.getResult("timerBg")),e.timerTxt=new a.default.Text("15 s","50px Arial","#fff");var n=e.timerBg.getBounds(),i=n.width,o=n.height,r=e.timerTxt.getBounds(),c=r.width,u=r.height;return e.timerTxt.x=(i-c)/2,e.timerTxt.y=(o-u+26)/2,e.target.addChild(e.timerBg,e.timerTxt),e.timerTickHandler=e.timerTickHandler.bind(e),e.totalTime=15,e.startTime=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Event),o(t,[{key:"start",value:function(){this.timerTxt.removeEventListener("tick",this.timerTickHandler),this.startTime=(new Date).getTime(),this.timerTxt.addEventListener("tick",this.timerTickHandler)}},{key:"timerTickHandler",value:function(){var e=(new Date).getTime(),t=Math.floor((e-this.startTime)/1e3),n=this.totalTime-t;this.timerTxt.text=n+" s",n<=0&&(this.emit("end"),this.timerTxt.removeEventListener("tick",this.timerTickHandler),this.timerTxt.text="0 s")}},{key:"stop",value:function(){this.timerTxt.removeEventListener("tick",this.timerTickHandler)}}]),t}()}]);